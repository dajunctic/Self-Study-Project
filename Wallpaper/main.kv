#:import NoTransition kivy.uix.screenmanager.NoTransition

MDFloatLayout:
    md_bg_color: 1, 1, 1, 1
    ScreenManager:
        id: page_manager
        transition: NoTransition()
        MDScreen:
            name: "homepage"
            MDFloatLayout:
                MDFloatLayout:
                    size_hint: .9, .07
                    pos_hint: {"center_x": .5, "center_y": .93}
                    md_bg_color: rgba(241, 241, 243, 255)
                    radius: [10]
                    TextInput:
                        id: search_text
                        hint_text: "Find Wallpaper..."
                        pos_hint: {"center_x": .5, "center_y": .5}
                        cursor_color: rgba(252, 174, 177, 255)
                        cursor_width: "2sp"
                        multiline: False
                        background_color: 0, 0, 0, 0
                        foreground_color: rgba(253, 175, 177, 255)
                        padding: 15
                        font_name: "MPoppins"
                        hint_text_color: rgba(206, 206, 209, 255)

                    MDIconButton:
                        icon: "magnify"
                        pos_hint: {'center_x': .9, 'center_y': .5}
                        theme_text_color: "Custom"
                        text_color: 206/255, 206/255, 209/255, 1
                        on_release:
                            app.search(search_text.text)

                MDLabel:
                    text: "Best of the month"
                    pos_hint: {"center_x": .56, "center_y": .86}
                    font_size: "18sp"
                    font_name: "BPoppins"

                ScrollView:
                    do_scroll_x: True
                    do_scroll_y: False
                    pos_hint: {"center_y": .65}
                    size_hint_y: .3
                    bar_width: 0
                    GridLayout:
                        size_hint_x: None
                        height: self.minimum_height
                        width: self.minimum_width
                        rows: 1
                        spacing: 10
                        padding: 18, 0
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/1519571.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/1240307.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/881770.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/109136.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/109139.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                        LoaderImage:
                            source: "https://wallpaperaccess.com/full/810950.jpg"
                            size_hint: None, None
                            size: "108dp", "192dp"
                MDLabel:
                    text: "Categories"
                    pos_hint: {"center_x": .56, "center_y": .46}
                    font_size: "20sp"
                    font_name: "BPoppins"
                MDGridLayout:
                    cols: 2
                    size_hint: .9, .28
                    pos_hint: {'center_x': .5, 'center_y': .28}
                    spacing: 10
                    MDLabel:
                        text: "Girl"
                        color: 1, 1, 1, 1
                        halign: 'center'
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: 'assets/girl.jpg'
                    MDLabel:
                        text: "Scenery"
                        color: 1, 1, 1, 1
                        halign: 'center'
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: 'assets/scenery.jpg'
                    MDLabel:
                        text: "Fantasy"
                        color: 1, 1, 1, 1
                        halign: 'center'
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: 'assets/fantasy.jpg'
                    MDLabel:
                        text: "Game"
                        color: 1, 1, 1, 1
                        halign: 'center'
                        font_name: "BPoppins"
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]
                                source: 'assets/game.jpg'
        MDScreen:
            name: "search_results"
            MDIconButton:
                icon: "arrow-left"
                pos_hint:{'center_y': .95}
                on_release:
                    page_manager.current = "homepage"
            MDLabel:
                id: search_label
                text: ""
                pos_hint: {"center_y": .95}
                halign: "center"
                font_name: "BPoppins"
                font_size: "20sp"
            ScrollView:
                do_scroll_y: True
                do_scroll_x: False
                size_hint_y: .9
                pos_hint: {'center_x': .5, 'y': 0}
                bar_width: 0
                GridLayout:
                    id: search_list
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 10
                    padding: 10, 0


        MDScreen:
            name: "saved"
            MDLabel:
                text: "Saved"
                halign: "center"
                font_name: "BPoppins"
        MDScreen:
            name: "account"
            MDLabel:
                text: "Account"
                halign: "center"
                font_name: "BPoppins"
    NavBar:
        size_hint: .9, .08
        pos_hint: {'center_x': .5, 'center_y': .08}
        elevation: 10
        md_bg_color: 1, 1, 1, 1
        radius: [16]
        MDGridLayout:
            cols: 3
            size_hint_x: .9
            spacing: root.width * .21
            pos_hint: {'center_x': .5, 'center_y': .5}
            MDIconButton:
                id: nav_icon1
                icon: 'home'
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(253, 175, 177, 255)
                on_release:
                    page_manager.current = 'homepage'
                    app.change_color(self)
            MDIconButton:
                id: nav_icon2
                icon: 'download'
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(222, 222, 222, 255)
                on_release:
                    page_manager.current = 'saved'
                    app.change_color(self)
            MDIconButton:
                id: nav_icon3
                icon: 'account'
                ripple_scale: 0
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(222, 222, 222, 255)
                on_release:
                    page_manager.current = 'account'
                    app.change_color(self)